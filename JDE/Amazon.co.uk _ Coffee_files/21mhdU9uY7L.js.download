'use strict';mix_d("SBXGwentCards__tetris-creative-desktop:tetris-creative-desktop__fS29rwyt","exports tslib @c/dom @c/metrics @c/logger @c/aui-feature-detect @c/aui-utils @p/a-ajax @c/pagemarker".split(" "),function(w,t,p,G,H,I,J,K,L){function k(a){return a&&"object"===typeof a&&"default"in a?a:{"default":a}}var u=k(p),x=k(G),M=k(H),N=k(I),O=k(J),P=k(K),Q=k(L),y=function(a,b){return a["matches"in a?"matches":"msMatchesSelector"](b)},g=function(a,b){b=b||u["default"].cardRoot;return!a||y(b,a)?b:b.querySelector(a)},
l=function(a,b){return Array.prototype.slice.call((b||u["default"].cardRoot).querySelectorAll(a))},e=function(a,b){return(b=g("["+a+"]",b))?b.getAttribute(a):null},z=function(a,b){a:{for(var c="["+a+"]";b&&b!==u["default"].cardRoot;){if(y(b,c))break a;b=b.parentElement}b=null}return b?b.getAttribute(a):null},h,R=(h={},h.e="basebe.ClientErrors.4",h.i="basebe.Impressions.5",h.c="basebe.Clicks.4",h.s="basebe.Swipes.4",h.v="basebe.Viewabilities.4",h.vc="basebe.VisualCompleteness.6",h),A=function(){return(e("data-card-metrics-id")||
"").split("_")[0]||null},S=function(){var a=e("data-wl");return a?a.split(","):null},T=function(){var a=g().ownerDocument.defaultView;return a.innerWidth+"x"+a.innerHeight},B=function(a){M["default"].log(a,"ERROR","base-be--"+(A()||"unknown"))},U=function(a,b){var c,d=/\?([^#]+)/.exec(b.href);if(d){d=d[1].split("&");var f=null;try{for(var q=t.__values(d),n=q.next();!n.done;n=q.next()){var g=n.value;if(0===g.indexOf("ref_=")){f=g;break}}}catch(v){var e={error:v}}finally{try{n&&!n.done&&(c=q.return)&&
c.call(q)}finally{if(e)throw e.error;}}e=f?(e=f.split("=").pop()||"")?e.split("_"):[]:[]}else e=[];c={};if(5<e.length){c.el=e.pop()||null;a:{var h;try{for(var k=t.__values(e),r=k.next();!r.done;r=k.next()){var l=r.value;if(/^\d+$/.test(l)){var m=l;break a}}}catch(v){var p={error:v}}finally{try{r&&!r.done&&(h=k.return)&&h.call(k)}finally{if(p)throw p.error;}}m=null}c.index=m;c.asin=z("data-asin",b);c.type=z("data-avar",b)}a.c(c)},V=function(a,b){var c=g().ownerDocument.defaultView,d=function(f){2!==
f.button&&(U(a,b),f.metaKey||f.altKey||f.shiftKey||f.ctrlKey||1===f.button||"_blank"===b.target||(f.preventDefault(),c.setTimeout(function(){c.open(b.href,b.target||"_top")},50)))};b.addEventListener("click",d);b.addEventListener("auxclick",d)},W=function(a){l("[href]").forEach(function(b){V(a,b)})},X=function(a,b){if(b)for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);return a},Y=function(a){var b=a.anonymizedRequestId,c=a.campaignId,d=a.slotName,f=function(a,f){try{x["default"].event(X({anonymizedRequestId:b,
campaignId:c,slotName:d},f),"base-be",R[a],{ssd:!0})}catch(ka){}};return{i:f.bind(null,"i"),v:f.bind(null,"v"),vc:f.bind(null,"vc"),c:f.bind(null,"c"),s:f.bind(null,"s"),e:function(a){f("e",a&&{name:a.name,message:a.message,stack:a.stack})}}},Z=function(a,b){var c=null,d=null;a.addEventListener("touchstart",function(a){c=a.touches[0].pageX});a.addEventListener("touchmove",function(a){null===c&&(c=a.touches[0].pageX);d=a.touches[0].pageX});a.addEventListener("touchend",function(){null!==c&&null!==
d&&b(d-c);c=d=null})},aa=function(a){if(N["default"].isSupported("touch")){var b=function(b){var c=Math.abs(b);30<c&&a.s({direction:0>b?"left":"right",length:c})};l("[data-track-swipe]").forEach(function(a){return Z(a,b)})}},ba=function(a,b){var c=g().ownerDocument.defaultView,d,f=function(){d||(d=c.setTimeout(a,b))};f.cancel=function(){c.clearTimeout(d);d=0};return f},C=function(a,b,c){void 0===c&&(c=25);var d=O["default"].throttle(b,c),f=g().ownerDocument.defaultView;f.addEventListener(a,d);return function(){f.removeEventListener(a,
d)}},D=function(a,b,c){return 0<=a?Math.min(c-a,b-a):0<b?Math.min(Math.min(b,c),b-a):0},ca=function(a){var b=function(){var a=g(),b=c,d=a.getBoundingClientRect();if(a=d.width*d.height){var e=d.top,k=d.bottom,h=d.left,l=d.right,m=g().ownerDocument.defaultView;d=m.innerHeight;h=D(h,l,m.innerWidth);e=D(e,k,d);.5<=h*e/a?b():b.cancel()}},c=ba(function(){d();a.v()},1E3),d=C("scroll",b);b()},da=function(a){var b=Date.now(),c=l("img"),d=c.length,f=0,g=function(){++f===d&&a.vc({delay:Date.now()-b})};c.forEach(function(a){null!==
e("data-lazy",a)&&null!==e("data-src",a)?a.addEventListener("load",function(){a.src===a.dataset.src&&g()}):a.complete?g():a.addEventListener("load",g)})},E=function(a,b){void 0===b&&(b=1);x["default"].count("sbxGwentClient"+a,b)},m={log:function(a){var b=g().ownerDocument.defaultView;var c=e("data-iid");(b=c&&b.sbxGwentClient&&"number"===typeof b.sbxGwentClient[c]?Date.now()-b.sbxGwentClient[c]:null)?E(a,b):E("NoPageTime")}},ea=function(a){var b=a.url,c=a.onSuccess,d=a.onError;b||d();P["default"].get(b,
{success:function(a){a&&"ok"===a.status?c(a):d()},error:d,abort:d})},fa=function(a,b,c,d){try{var f=JSON.parse(a);return"/gp/aq-feedback/lazyLoad/handler/af-link-handler.html?pl="+encodeURIComponent(JSON.stringify({adCreativeMetaData:{adCreativeId:f[0],adId:b,campaignId:c,adImpressionId:f[1],adNetwork:"aax",adProgramId:1010},adPlacementMetaData:{adElementId:f[2],pageType:f[3],pageUrl:f[4],searchTerms:f[5],slotName:d}}))}catch(q){return null}},ha=function(){var a=e("data-ad-feedback");if(a){var b=
e("data-slot"),c=e("data-aid"),d=e("data-cid");a=fa(a,c,d,b);ea({url:a,onSuccess:function(a){var b=a.html,c=g("._tetris-creative-desktop_AdFeedback_content__3GnQ8",void 0);c&&b&&(c.innerHTML=b);if(a=a.script)b=g().ownerDocument.createElement("script"),b.type="text/javascript",b.innerHTML=a,g().appendChild(b);m.log("AdFeedbackSuccess")},onError:function(){var a=g("._tetris-creative-desktop_AdFeedback_fallback__1H6Ua",void 0);a&&(a.style.display="block");m.log("AdFeedbackFallback")}})}},F=function(){l("._tetris-creative-desktop_CallToAction_cta__sfDiB",
void 0).forEach(function(a){if(a.parentElement){var b=g("._tetris-creative-desktop_CallToAction_fallback__2y-dO",a.parentElement),c=g(".a-truncate",a),d=g(".a-truncate-full",a);c&&d&&(d.clientHeight>c.clientHeight&&b?(b.classList.remove("_tetris-creative-desktop_CallToAction_hidden__3P_G4"),a.parentElement.removeChild(a)):(c=g("._tetris-creative-desktop_CallToAction_chevron__1DCGA",a))&&!d.hasAttribute("data-chevron")&&(d.setAttribute("data-chevron","true"),a=d.innerHTML.split(" "),b=a.pop(),c=c.innerHTML,
d.innerHTML="<span>"+a.join(" ")+' </span><span style="white-space:pre">'+b+"&nbsp;"+c+"</span>"))}})},ia=function(a){var b=e("data-src",a),c=e("data-srcset",a),d=a.cloneNode();d.removeAttribute("data-src");d.removeAttribute("data-srcset");d.removeAttribute("data-lazy");d.srcset=c;d.src=b;a.parentNode.insertBefore(d,a);d.onload=function(){a.style.opacity="0";m.log("LazyLoaded")}},ja={primeAfterSavings:"_tetris-creative-desktop_Offer_primeAfterSavings__kQYS_",price:"_tetris-creative-desktop_Offer_price__X46GM"};
p=function(a){var b=a.asinMapper,c=a.onLoad;return function(){return t.__awaiter(void 0,void 0,void 0,function(){return t.__generator(this,function(a){switch(a.label){case 0:return m.log("Loaded"),[4,Q["default"].pageReady];case 1:a.sent();m.log("Ready");try{var d=g(".sbx-no-js",void 0);d&&d.classList.remove("sbx-no-js");try{var h=Y({anonymizedRequestId:e("data-rid"),campaignId:e("data-cid"),slotName:e("data-slot")});h.i({asins:[].map.call(l("[data-asin]"),b),creativeType:A(),creativeVariation:e("data-var"),
market:e("data-mrkt"),version:e("data-ts"),viewport:T(),weblabs:S()});W(h);da(h);ca(h);aa(h)}catch(n){B(n)}F();C("resize",F);l('img[data-lazy="true"]').forEach(ia);c&&c()}catch(n){B(n)}return[2]}})})}}({asinMapper:function(a){return{id:e("data-asin",a),prime:!!g("._tetris-creative-desktop_Prime_prime__jG4IC",a),price:!!g("._tetris-creative-desktop_Price_price__2xBnQ",a),savings:!!g("."+ja.basisAndSavings,a),rating:e("data-rt",a),badge:e("data-deal",a)}},onLoad:function(){ha()}});w._operationNames=
[];w.card=p});
