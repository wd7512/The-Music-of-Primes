(window.webpackJsonp=window.webpackJsonp||[]).push([[71,33],{FLbi:function(e,t,n){n.r(t);var a=n("mXGw"),r=n.n(a),o=n("/m4v"),i=n("YFs1"),c=n.n(i),s=n("W0B4"),l=n("6Wqb"),u=n("+s/N"),m=n("GItb"),d=n("IUY8"),f=n("tXPM"),p=n("HR3z"),b=n("uVNS"),g=n("rOcY"),h=n("QIle"),y=function(e){var t=e.className,n=e.children;return r.a.createElement("div",{className:Object(l.a)({blk:"asda-banner-static",className:t})},n)};y.propTypes={children:s.node.isRequired,className:s.string},y.defaultProps={className:null};var O=Object(a.memo)(y),v=(n("inSG"),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}());function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=g.g.bannerImpression,w=g.g.bannerTap,x=function(e){function t(){var e,n,a;j(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=a=k(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.triggerAnalytics=function(e){var t=a.props;(0,t.triggerBannerImpression)(t.trackingCode,e)},a.handleClick=function(e){var t=a.props,n=t.closeNav,r=t.history;a.triggerAnalytics(w),n(),e&&r.push(e),Object(m.b)(0,0)},a.renderCMSBanner=function(){var e=a.props,t=e.mediaURL,n=e.imageAlt,o=e.link,i=e.placementKey,c=e.setCriteoBannerStatus,s=e.match.params.catname,m=e.firstProductId,f=Object(u.a)(o);if("VR"===i&&c(s+"-"+m),t&&!t.includes("/")){var p={undertone_id:t};return r.a.createElement("div",null,r.a.createElement(h.a,{criteoBanner:p,BannerStaticUndertone:!0}))}return f?r.a.createElement(d.l,{asButton:!0,datAutoId:"linkBannerStaticImg",clickHandler:function(){return a.handleClick(f)}},r.a.createElement("img",{className:Object(l.a)({blk:"asda-banner-static",elt:"image"}),src:t,alt:n,loading:"lazy"})):r.a.createElement("img",{className:Object(l.a)({blk:"asda-banner-static",elt:"image"}),src:t,alt:n,loading:"lazy"})},k(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),v(t,[{key:"componentDidMount",value:function(){this.triggerAnalytics(E)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.mediaURL;return c()(n)?null:r.a.createElement(a.Fragment,null,r.a.createElement(O,{className:t},this.renderCMSBanner()))}}]),t}(a.PureComponent);x.propTypes={mediaURL:s.string.isRequired,imageAlt:s.string.isRequired,link:Object(s.shape)({path:s.string,queryString:s.string}).isRequired,placementKey:s.string,match:Object(s.shape)({params:Object(s.shape)({catname:s.string})}).isRequired,firstProductId:s.string,triggerBannerImpression:s.func.isRequired,setCriteoBannerStatus:s.func.isRequired,trackingCode:s.string.isRequired,closeNav:s.func,history:Object(s.shape)({push:s.func}).isRequired,className:s.string},x.defaultProps={placementKey:"",firstProductId:"",closeNav:function(){},className:null};t.default=Object(b.a)(Object(o.b)(null,{triggerBannerImpression:f.a,setCriteoBannerStatus:p.c})(x),O)},eqE1:function(e,t,n){},gGoV:function(e,t,n){},inSG:function(e,t,n){},kSFl:function(e,t,n){var a=n("zYYD"),r=0;e.exports=function(e){var t=++r;return a(e)+t}},nIQh:function(e,t,n){},vX1W:function(e,t,n){n.r(t),n.d(t,"default",(function(){return me})),n.d(t,"NavigationMenu",(function(){return se})),n.d(t,"MenuItem",(function(){return ce}));var a=n("mXGw"),r=n.n(a),o=n("/m4v"),i=n("oNR1"),c=n("W0B4"),s=n("Z7H9"),l=n("IUY8"),u=n("7mLg"),m=n("6Wqb"),d=n("f4E9"),f=n("xBw7"),p=n("bp/i"),b=n("rOcY"),g=n("SKM5"),h=n.n(g),y=n("5Zwl"),O=n.n(y),v=n("6Vfs"),j=n("FLbi"),k=(n("gGoV"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}),E="popular-brands",w=Object(m.a)({blk:E,elt:"container"}),x=Object(m.a)({blk:E,elt:"banner-static"}),I=Object(m.a)({blk:E,elt:"heading"}),C=function(e){var t=e.popularBrands;return t&&0!==t.length?r.a.createElement("div",{className:w,"data-auto-id":"popular-brands"},r.a.createElement("h3",{className:I},"Featured"),t&&t.reduce((function(e,t){return"BannerStatic"===t.renderer&&e.push(r.a.createElement(j.default,k({},t,{className:x}))),e}),[])):null};C.propTypes={popularBrands:Object(c.arrayOf)(Object(c.shape)({mediaURL:c.string,renderer:c.string}))},C.defaultProps={popularBrands:[]};var N=Object(a.memo)(C),R=n("kSFl"),S=n.n(R),T=n("BeCd"),B=n("tXPM"),A=n("0vxw"),M=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var P="egc-message-container",G="egc-button-container",L={triggerSignal:B.d},D=function(e){function t(){var e,n,a;_(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=q(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.triggerAnalytics=function(e){var t=a.props;(0,t.triggerSignal)({cartId:t.cartID,channel:"taxonomy",eventId:b.g.standardButtonClick,isPageview:!1,linkButtonText:e})},q(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),M(t,[{key:"render",value:function(){var e=this;return r.a.createElement(a.Fragment,null,r.a.createElement(l.k,{alt:"eGift cards",className:Object(m.a)({blk:"h-nav",elt:"egc-banner-container"}),src:"https://i.groceries.asda.com/dm/asdagroceries/image@3x",dataAutoId:"imageEGiftCardsBanner",title:"eGift cards",ariaProps:{"aria-describedby":"eGift card banner image"}}),r.a.createElement("div",{className:Object(m.a)({blk:"h-nav",elt:P,mods:["container"]})},r.a.createElement("div",{className:Object(m.a)({blk:"h-nav",elt:P,mods:["message"]})},r.a.createElement("p",{className:Object(m.a)({blk:"h-nav",elt:P,mods:["primary-msg"]})},"Gift something they'll"," ",r.a.createElement("br",null),"actually use",r.a.createElement("br",null)),r.a.createElement("p",{className:Object(m.a)({blk:"h-nav",elt:P,mods:["secondary-msg"]})},"Choose from Asda and big"," ",r.a.createElement("br",null),"brand gift cards for the"," ",r.a.createElement("br",null),"perfect, practical gift.")),r.a.createElement("div",{className:Object(m.a)({blk:"h-nav",elt:G})},r.a.createElement(l.d,{asAnchor:!0,className:Object(m.a)({blk:"h-nav",elt:G,mods:["buy-gc-button"]}),dataAutoId:"btnBuyGiftCards",fluid:!0,href:"https://cards.asda.com/asda-asda-egift",target:"_blank",clickHandler:function(){return e.triggerAnalytics("btn_gc_navimage_buygiftcards")},ariaProps:{"aria-label":"Buy gift cards button"}},"Buy gift cards"),r.a.createElement(l.d,{asAnchor:!0,className:Object(m.a)({blk:"h-nav",elt:G,mods:["check-balance-button"]}),dataAutoId:"btnCheckBalance",fluid:!0,href:"https://cards.asda.com/login?ReturnUrl=%2forder%2fhistory",target:"_blank",clickHandler:function(){return e.triggerAnalytics("btn_gc_navimage_checkbalance")},ariaProps:{"aria-label":"Check balance button"},outline:!0},"Check balance")),r.a.createElement("p",{className:Object(m.a)({blk:"h-nav",elt:G,mods:["message"]})},"Opens in a new window")))}}]),t}(a.PureComponent);D.propTypes={cartID:c.string,triggerSignal:c.func.isRequired},D.defaultProps={cartID:""};var U=Object(o.b)((function(e){return{cartID:Object(A.h)(e)}}),L)(D),z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};var W=function(e){var t=e.taxonomy,n=e.banners,o=e.taxonomySelection,i=e.isOffers,c=e.onItemClick,s=e.isEGCenabled,l=i?"top-offers":"top",u=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(o)).pop()||l,d=n[u]||[],f={BannerStatic:j.default,IAB:T.a},p=function(e){c(e,{selection:[]})},b=u.toString().includes("cards.asda.com")&&s,g=Object(m.a)({blk:"h-nav",elt:"egc-container"}),h=Object(m.a)({blk:"h-nav",elt:"banner-container",mods:[t.length+"-columns"]});return r.a.createElement(a.Fragment,null,b&&r.a.createElement("div",{className:g},r.a.createElement(U,{closeNav:p})),d.length>0&&!b&&r.a.createElement("div",{className:h},d.map((function(e){var t=e.renderer,n=e.placementType,a=void 0===n?"":n,o=f[t],i="BannerStatic"===t?S()(e.mediaURL):S()(t+":"+a);return r.a.createElement(o,z({key:i},e,{closeNav:p}))}))))};W.propTypes={taxonomy:Object(c.arrayOf)(Object(c.arrayOf)(Object(c.shape)({selected:c.bool,dimvalid:Object(c.oneOfType)([c.number,c.string]),displayName:c.string,catType:c.string,parent:Object(c.shape)({displayName:c.string}),hasChildren:c.bool,selection:Object(c.arrayOf)(Object(c.oneOfType)([c.number,c.string]))}).isRequired).isRequired).isRequired,taxonomySelection:Object(c.arrayOf)(c.number).isRequired,banners:Object(c.objectOf)(Object(c.arrayOf)(Object(c.shape)({link:Object(c.shape)({path:c.string}),mediaURL:c.string,imageAlt:c.string}))),isOffers:c.bool.isRequired,onItemClick:c.func.isRequired,isEGCenabled:c.bool},W.defaultProps={banners:[],isEGCenabled:!1};var H=Object(a.memo)(W),F=(n("nIQh"),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}());function Y(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var V=function(e){var t=e.children,n=e.onClick,a=e.onHover,o=e.onOut,i=e.showArrow,c=e.active,s=e.highlight,u=e.onTouch,d=e.topOffer,f=e.yourRegular,p=e.isEGC,b=e.displayName;return r.a.createElement("li",{className:Object(m.a)({blk:"h-nav",elt:"item"}),role:"menuitem"},r.a.createElement("button",{className:Object(m.a)({blk:"h-nav",elt:"item-button",mods:[c&&"active",i&&"has-children",s&&"highlight",d&&"top-offer",f&&"your-regular"]}),onClick:n,onTouchStart:u,onTouchEnd:function(e){return e.preventDefault()},onMouseOver:a,onMouseOut:o,onFocus:a,onBlur:o,type:"button","aria-expanded":i,"aria-haspopup":i},p&&r.a.createElement(l.b,{value:"New",dataAutoId:"eGiftCardBadge",className:Object(m.a)({blk:"h-nav",elt:"e-gift-card-badge"})}),i&&"Gift Cards"!==b&&r.a.createElement(l.j,{className:Object(m.a)({blk:"h-nav",elt:"item-icon"}),rotate:"270",size:"small",color:"dark-gray",name:"chevron-down"}),r.a.createElement("span",{className:Object(m.a)({blk:"h-nav",elt:"item-text"})},t)))};V.propTypes={children:c.node.isRequired,highlight:c.bool,topOffer:c.bool,yourRegular:c.bool,showArrow:c.bool,active:c.bool,onClick:c.func,onHover:c.func,onTouch:c.func,onOut:c.func,isEGC:c.bool,displayName:c.string},V.defaultProps={highlight:!1,topOffer:!1,yourRegular:!1,showArrow:!1,active:!1,onClick:function(){},onHover:function(){},onTouch:function(){},onOut:function(){},isEGC:!1,displayName:""};var K=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));X.call(n);var a=e.onItemMouseOver;return n.onItemMouseOver=O()(a,200),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),F(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyboardInput)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyboardInput)}},{key:"render",value:function(){var e=this.props,t=e.taxonomy,n=e.banners,a=e.taxonomySelection,o=e.isOffers,i=e.onItemClick,c=e.isEGCenabled,s=e.popularBrands,l=Object(m.a)({blk:"h-nav",elt:"sections-container",mods:[t.length+"-columns"]});return r.a.createElement("nav",{className:Object(m.a)({blk:"h-nav"})},r.a.createElement("div",{className:l},this.renderTaxonomy()),r.a.createElement(H,{taxonomy:t,banners:n,taxonomySelection:a,isOffers:o,onItemClick:i,isEGCenabled:c}),r.a.createElement(N,{popularBrands:s}))}}]),t}(a.Component),X=function(){var e=this;this.getSelectedItem=function(){return e.props.taxonomy.reduce((function(e,t){return t.reduce((function(e,t){return t.selected?t:e}),e)}),{})},this.getSelectionIndex=function(){return e.props.taxonomy.reduce((function(e,t,n){return t.reduce((function(e,t,a){return t.selected?{column:n,row:a}:e}),e)}),{column:0,row:-1})},this.getSelectionFromIndex=function(t){var n=t.column,a=t.row,r=e.props,o=r.taxonomy,i=r.taxonomySelection,c=a;c<0&&(c=0),c>o[n].length-1&&(c=o[n].length-1);var s=o[n][c].dimvalid;return[].concat(Y(i.slice(0,i.length-1)),[s])},this.handleKeyboardInput=function(t){var n=t.keyCode||t.which||null,a=e.props,r=a.taxonomySelection,o=a.onItemMouseOver,i=a.onItemClick,c=a.taxonomy,s=r.length,l=c.length;switch(h()(v.a)[n]){case"ESC":e.close(t);break;case"RETURN":case"SPACE":s&&(t.preventDefault(),i(t,e.getSelectedItem()));break;case"ARROW_LEFT":t.preventDefault(),s&&o(t,{selection:r.slice(0,s-1)});break;case"ARROW_UP":t.preventDefault();var u=e.getSelectionIndex();u.row-=1,o(t,{selection:e.getSelectionFromIndex(u)});break;case"ARROW_DOWN":t.preventDefault();var m=e.getSelectionIndex();m.row+=1,o(t,{selection:e.getSelectionFromIndex(m)});break;case"ARROW_RIGHT":if(t.preventDefault(),s<l){var d=c[l-1][0].dimvalid;o(t,{selection:[].concat(Y(r),[d])})}}},this.close=function(t){(0,e.props.onItemClick)(t,{selection:[]})},this.onItemMouseOut=function(){e.onItemMouseOver.cancel()},this.getColumnKey=function(t){var n=t[0]||{},a=n.parent,r=n.dimvalid,o=n.displayName,i=e.props.isOffers;return a?(i?"offers":"shop")+"-column-"+a.dimvalid+"-"+a.displayName:r&&o?(i?"offers":"shop")+"-column-"+r+"-"+o:(i?"offers":"shop")+"-column-toplayer"},this.renderTaxonomy=function(){var t=e.props,n=t.taxonomy,o=t.onItemClick,i=t.onItemTouch,c=t.isEGCenabled;return r.a.createElement(a.Fragment,null,n.map((function(t){return r.a.createElement("ul",{className:Object(m.a)({blk:"h-nav",elt:"list",mods:[n.length+"-columns"]}),key:e.getColumnKey(t)},t.map((function(t){var n=t.displayName,a=c&&"Gift Cards"===n;return r.a.createElement(V,{onClick:function(e){return o(e,t)},onHover:function(n){return e.onItemMouseOver(n,t)},onTouch:function(e){return i(e,t)},onOut:function(t){return e.onItemMouseOut(t)},showArrow:t.hasChildren||a,active:t.selected,key:"item-"+t.displayName+"-"+t.dimvalid,highlight:t.highlight,topOffer:"top-offers"===t.dimvalid,yourRegular:"your-regulars"===t.dimvalid,isEGC:a,displayName:n},t.displayName)})))})))}};K.propTypes={taxonomy:Object(c.arrayOf)(Object(c.arrayOf)(Object(c.shape)({selected:c.bool,dimvalid:Object(c.oneOfType)([c.number,c.string]),displayName:c.string,catType:c.string,parent:Object(c.shape)({displayName:c.string}),hasChildren:c.bool,selection:Object(c.arrayOf)(Object(c.oneOfType)([c.number,c.string]))}).isRequired).isRequired).isRequired,isOffers:c.bool.isRequired,onItemMouseOver:c.func,onItemClick:c.func,onItemTouch:c.func,taxonomySelection:Object(c.arrayOf)(c.number).isRequired,banners:Object(c.objectOf)(Object(c.arrayOf)(Object(c.shape)({link:Object(c.shape)({path:c.string}),mediaURL:c.string,imageAlt:c.string}))),isEGCenabled:c.bool,popularBrands:Object(c.arrayOf)(Object(c.shape)({mediaURL:c.string,renderer:c.string}))},K.defaultProps={onItemMouseOver:function(){},onItemClick:function(){},onItemTouch:function(){},banners:[],isEGCenabled:!1,popularBrands:[]};var Q=n("VWwc"),Z=n("9DBn"),J=n("qim3"),$=n("eWQw"),ee=n("ZCZy"),te=n("vWub"),ne=n("ERYi"),ae={toggleNavigationMenu:Q.toggleNavigationMenu,showTaxonomyMenu:Q.showTaxonomyMenu,hideTaxonomyMenu:Q.hideTaxonomyMenu,setTaxonomySelection:Q.setTaxonomySelection,setTaxonomyOffers:Q.setTaxonomyOffers,applyTaxonomySelection:Z.a,triggerSignal:B.d},re=(n("eqE1"),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}());var oe=Object(m.a)({blk:"navigation-menu",elt:"icon"}),ie=Object(m.a)({blk:"navigation-menu",elt:"text"}),ce=function(e){var t=e.type,n=e.value,a=e.onClick,o=e.active,i=e.children,c=Object(m.a)({blk:"navigation-menu",elt:"item",mods:[o&&"active"]});return"link"===t?n.includes("http://groceries")||n.includes("https://groceries")||!n.includes("http")?r.a.createElement(l.d,{href:n,className:c,dataAutoId:"linkMenuItem",asLink:!0,category:"clear",fluid:!0,clickHandler:function(){return a(n)}},i):r.a.createElement(l.d,{href:n,className:c,dataAutoId:"linkMenuItem",asAnchor:!0,target:"_blank",category:"clear",fluid:!0},i):"recipes"===n?r.a.createElement(l.d,{dataAutoId:"linkRecipes",clickHandler:function(){return a(n)},href:"/"+n,className:c,asLink:!0,category:"clear",fluid:!0},i):r.a.createElement(l.d,{clickHandler:function(){return a(n)},className:c,type:"button",category:"clear",fluid:!0,dataAutoId:"buttonMenuItem",role:"menu",ariaProps:{"aria-expanded":o,"aria-haspopup":"menu"}},i)};ce.propTypes={type:c.string.isRequired,value:c.string.isRequired,onClick:c.func.isRequired,children:c.node.isRequired,active:c.bool},ce.defaultProps={active:!1};var se=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));le.call(n);var a=e.setTaxonomyOffers,r=e.isOffers;return Object(f.b)().toLowerCase().indexOf("special offers")>-1&&!r&&a(!0),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),re(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.showOverBackDrop,a=t.menu,o=t.isTaxonomyVisible,i=t.isOffers,c=t.viewport,l=t.siteWidthClassName,u=a;return["large","xlarge"].indexOf(c)<0&&(u=a.slice(0,5)),r.a.createElement("nav",{className:Object(m.a)({blk:"navigation-menu",className:l}),"data-show-over-backdrop":n,"data-auto-id":"navigationMenu"},r.a.createElement("div",{className:Object(m.a)({blk:"navigation-menu",elt:"content"}),role:"menu"},u.map((function(t){return r.a.createElement("div",{key:t.name,className:Object(m.a)({blk:"navigation-menu",elt:"item-container"})},e.renderMenuItem(t))})),r.a.createElement(s.a,{rule:"large-up"},o&&(i?r.a.createElement("div",null,this.renderTaxonomyMenu()):this.renderTaxonomyMenu()))))}}]),t}(a.Component),le=function(){var e=this;this.triggerAction=function(t){var n=e.props,a=n.toggleNavigationMenu,r=n.isTaxonomyVisible,o=n.showTaxonomyMenu,i=n.breadcrumb,c=n.hideTaxonomyMenu,s=n.setTaxonomySelection,l=n.setTaxonomyOffers,u=n.isOffers,m=n.showMenu,d=i.map((function(e){return e.dimvalid}));switch(t){case"shop-groceries":if(a(),l(!1),s(d),!r){o();break}if(u)break;c();break;case"shop-offers":if(a(),l(!0),s(d),!r){o();break}if(!u)break;c();break;case"recipes":break;default:c(),m&&a(),l(!1)}},this.isItemActive=function(t){var n=e.props,a=n.isTaxonomyVisible,r=n.isOffers;switch(t){case"shop-groceries":return a&&!r;case"shop-offers":return a&&r;default:return!1}},this.onItemClick=function(t,n){var a=n.selection,r=n.link,o=n.displayName,i=e.props,c=i.setTaxonomySelection,s=i.hideTaxonomyMenu,l=i.history,m=i.toggleNavigationMenu,d=i.showMenu,f=i.applyTaxonomySelection;r&&r.indexOf("yourregulars")>=-1&&Object(p.c)("local","currentPage","taxonomy"),t&&t.stopPropagation(),r&&"Gift Cards"===o&&u.isEGCenabled?(e.triggerEGCAnalytics(),l.push("/gift-cards")):r?(c(),r.includes("http://groceries")||r.includes("https://groceries")||!r.includes("http")?l.push(r):window.open(r,"_blank")):(c(a),f()),s(),d&&m()},this.onItemHover=function(t,n){var a=n.selection,r=e.props.setTaxonomySelection;t&&t.stopPropagation(),r(a)},this.onItemTouch=function(t,n){var a=e.props.taxonomySelection,r=a[a.length-1];n.hasChildren&&n.dimvalid!==r?e.onItemHover(t,n):e.onItemClick(t,n)},this.triggerEGCAnalytics=function(){(0,e.props.triggerSignal)({channel:"taxonomy",eventId:b.g.standardButtonClick,isPageview:!1,linkButtonText:"link_gc_nav_giftcards"})},this.triggerAnalytics=function(t,n){(0,e.props.triggerSignal)({isPageview:!1,isUserGenerated:!1,listName:"autobasket",eventId:b.g.p13nAutoBasketImpression,channel:Object(f.b)().toLowerCase(),AutobasketState:"taxonomy",itemsShownAutobasket:t,isGuidelinesShown:n},!1)},this.renderTaxonomyMenu=function(){var t=e.props,n=t.isOffers,a=t.taxonomyBanners,o=t.taxonomySelection,i=t.isTaxonomyVisible,c=t.taxonomyData,s=t.customLinks,l=t.isLoggedIn,m=t.isYourRegularEnabled,f=t.autoBasketSizeData,p=t.popularBrands,b=f.hasEligibleSize,g=f.totalSize,h=f.showGuidelines,y=l&&m&&b;!y||n||o.length||e.triggerAnalytics(g,h);var O=i?Object(d.c)(c,o,s,{},n,y):[];return r.a.createElement(K,{taxonomy:O,banners:a,popularBrands:p,taxonomySelection:o,isOffers:n,onItemClick:e.onItemClick,onItemMouseOver:e.onItemHover,onItemMouseOut:e.onItemMouseOut,onItemTouch:e.onItemTouch,isEGCenabled:u.isEGCenabled})},this.renderMenuItem=function(t){var n=e.isItemActive(t.value),a=["Groceries","Shop Groceries","Offers","Special Offers"].indexOf(t.name)>=0;return r.a.createElement(ce,{type:t.type,value:t.value,onClick:e.triggerAction,active:n,key:t.value},r.a.createElement(s.a,{rule:"medium-down"},r.a.createElement(l.j,{className:oe,name:t.icon,size:"medium"})),r.a.createElement("span",{className:ie},r.a.createElement(s.a,{rule:"medium-down"},t.mobileName),r.a.createElement(s.a,{rule:"large-up"},"/meal-planning"===t.value&&r.a.createElement(l.b,{value:"New",dataAutoId:"mpBadge",className:Object(m.a)({blk:"navigation-menu",elt:"mp-badge"})}),t.name,a&&r.a.createElement(l.j,{size:"tiny",rotate:n?"180":"0",name:"chevron-down",className:Object(m.a)({blk:"navigation-menu",elt:"submenu-icon-chevron",mods:[n&&"active"]})}))))}};se.propTypes={history:Object(c.shape)({push:c.func}).isRequired,menu:Object(c.arrayOf)(Object(c.objectOf)(c.string)).isRequired,toggleNavigationMenu:c.func.isRequired,showTaxonomyMenu:c.func.isRequired,hideTaxonomyMenu:c.func.isRequired,setTaxonomySelection:c.func.isRequired,applyTaxonomySelection:c.func.isRequired,setTaxonomyOffers:c.func.isRequired,isTaxonomyVisible:c.bool.isRequired,taxonomySelection:Object(c.arrayOf)(c.number).isRequired,isOffers:c.bool.isRequired,taxonomyData:Object(c.arrayOf)(Object(c.shape)({dimvalid:c.number})).isRequired,customLinks:Object(c.objectOf)(Object(c.arrayOf)(c.object)).isRequired,breadcrumb:Object(c.arrayOf)(Object(c.shape)({dimvalid:c.number})).isRequired,showOverBackDrop:c.bool,taxonomyBanners:Object(c.objectOf)(Object(c.arrayOf)(Object(c.shape)({link:Object(c.shape)({path:c.string}),mediaURL:c.string,imageAlt:c.string}))),showMenu:c.bool,viewport:c.string,isLoggedIn:c.bool,isYourRegularEnabled:c.bool,autoBasketSizeData:Object(c.shape)({totalSize:c.number,hasEligibleSize:c.bool,showGuidelines:c.bool}),triggerSignal:c.func.isRequired,siteWidthClassName:c.string,popularBrands:Object(c.arrayOf)(Object(c.shape)({mediaURL:c.string,renderer:c.string}))},se.defaultProps={showOverBackDrop:!1,taxonomyBanners:[],showMenu:!1,viewport:"",isLoggedIn:!1,isYourRegularEnabled:!1,autoBasketSizeData:{totalSize:0,hasEligibleSize:!0,showGuidelines:!1},siteWidthClassName:"",popularBrands:[]};var ue=Object(o.b)((function(e){var t=Object(J.j)(e),n=Object(J.g)(e),a=Object(J.d)(e,n,t),r=!!Object(te.y)(e,"isYourRegularEnabled"),o=Object(te.V)(e),i=Object(ne.f)(e,"autobasket");return{viewport:Object(ee.m)(e),menu:Object($.e)(e),showMenu:Object(J.k)(e),isOffers:t,taxonomyBanners:a,taxonomySelection:n,taxonomyData:Object(J.a)(e),customLinks:Object($.d)(e),breadcrumb:Object($.a)(e),isYourRegularEnabled:r,isLoggedIn:o,autoBasketSizeData:i,popularBrands:Object(J.f)(e,t)}}),ae)(se),me=Object(i.j)(ue)}}]);