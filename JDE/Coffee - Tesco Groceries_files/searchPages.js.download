!function(){var pageLoadSetVarsObj=gtmDataLayer.get("pageLoadSetVars")||{};pageLoadSetVarsObj.searchPagesAA=function(){var pageUrl=gtmDataLayer.get("pageData.busPageURL"),isMultiSearchList=/.*multi-search$/g.test(pageUrl);if(gtmDataLayer.set("UIRenderContent.clickedItemStored",!1),isMultiSearchList)s.prop1=s.prop2=s.prop3=s.prop4="multisearch list",s.pageName=s.eVar70=s.eVar71=s.eVar72=s.eVar73=s.prop1;else{s.prop1="search results",s.prop4="search results",s.prop3=s.prop2=s.pageName="search results",s.eVar70=s.prop1,s.eVar71=s.prop2,s.eVar72=s.prop3,s.eVar73=s.prop4,gtmDataLayer.set("pageData.v70",s.eVar70),gtmDataLayer.set("pageData.v71",s.eVar71),gtmDataLayer.set("pageData.v72",s.eVar72),gtmDataLayer.set("pageData.v73",s.eVar73),s.events=s.events?s.events+",":"",0==gtmDataLayer.get("UISearch.busSearchNumberOfResults")?s.events+="event1,event2":(s.events+="event1",s.prop27=gtmDataLayer.get("UIImpression.busFirstVisible")+"-"+gtmDataLayer.get("UIImpression.busLastVisible"),s.eVar21=s.prop27),s.events+=",event159="+(gtmDataLayer.get("UISearch.busSearchNumberOfResults")||"0"),gtmDataLayer.get("UISearch.busSearchInputType")&&(s.prop16=gtmDataLayer.get("UISearch.busSearchInputType"),s.eVar40=s.prop16),gtmDataLayer.get("UISearch.busSearchInput")&&(s.prop14=gtmDataLayer.get("UISearch.busSearchInput"),s.eVar13=s.prop14),gtmDataLayer.get("UISearch.busSearchSuggestLength")&&(s.eVar163=gtmDataLayer.get("UISearch.busSearchSuggestLength")),gtmDataLayer.get("UISearch.busSearchSuggestPos")&&(s.eVar164=gtmDataLayer.get("UISearch.busSearchSuggestPos")),gtmDataLayer.get("UISearch.busSearchMatchType")&&(s.eVar153=gtmDataLayer.get("UISearch.busSearchMatchType")),gtmDataLayer.get("UISearch.busSearchTerm")&&(s.prop17=s.eVar1=gtmDataLayer.get("UISearch.busSearchTerm")),gtmDataLayer.get("UISearch.busSearchNumberOfResults")&&(s.prop18=s.eVar58=gtmDataLayer.get("UISearch.busSearchNumberOfResults"));var icidString=_gtm.getQueryParam("icid");if(icidString){if(icidString.match(/tescohp_sws-1.*/)){s.events+=",event175";var icidArray=icidString.split("_");if(6==icidArray.length){if(searchMethod=icidArray[2],searchMethod.match(/m-.*/)){switch(searchMethod=searchMethod.substring(2,10),searchMethod){case"sug":searchMethod="suggested";break;case"ft":searchMethod="free text";break;default:searchMethod}s.prop16=s.eVar40=searchMethod}searchInput=icidArray[3],searchInput.match(/in-.*/)&&(searchInput=searchInput.substring(3,100),s.prop14=s.eVar13=searchInput),searchOut=icidArray[5],searchOut.match(/out-.*/)&&(searchOut=searchOut.substring(4,100),s.prop17=s.eVar1=searchOut)}}icidString=""}s.eVar47=s.prop14,/.*multi-search-results/g.test(pageUrl)&&(s.eVar122=gtmDataLayer.get("UISearch.busMultisearchList"))}s.eVar14=s.pageName;var v61=s.prop4;gtmDataLayer.set("UIEventBasketOp.addToBasketType",v61),_gtm.notify("GTM: GTM: searchPages fired")},gtmDataLayer.set("pageLoadSetVars",pageLoadSetVarsObj)}();