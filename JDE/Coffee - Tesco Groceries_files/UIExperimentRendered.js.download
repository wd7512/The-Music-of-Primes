bertie.on("UIExperimentRendered",function(e){try{var arrayForDE,expToStoreBack,UIExperimentRenderedObj=gtmDataLayer.get("UIExperimentRendered")||{},exVariant=e.variationKey,timestamp=e.timestamp,tPos=timestamp.indexOf("T"),todayDate=timestamp.substring(0,tPos),OptObj={V:exVariant,D:todayDate},OptArray=[];if(OptArray.push(JSON.stringify(OptObj)),"378-a"==exVariant&&(UIExperimentRenderedObj.wismoType="context card impression:wismo control"),UIExperimentRenderedObj.busExpCurrent){var otherCurrentArray=UIExperimentRenderedObj.busExpCurrent,allCurrentArray=[],allCurrentNamesArray=[];for(i=0;i<otherCurrentArray.length;i++)otherCurrentName=otherCurrentArray[i].V,otherCurrentNameObj=otherCurrentName,allCurrentNamesArray.push(otherCurrentNameObj),UIExperimentRenderedObj.tempTestingNames=allCurrentNamesArray;-1==allCurrentNamesArray.indexOf(exVariant)&&allCurrentArray.push(JSON.parse(OptArray)),allCurrentArray.push(otherCurrentArray),arrayForDE=allCurrentArray}else arrayForDE=JSON.parse(OptArray);if(_gtm.localStorage.get("OptVars")){var expFromStorage=_gtm.localStorage.get("OptVars"),expFromStorage=JSON.parse(expFromStorage),expNamesFromStorage=[];for(i=0;i<expFromStorage.length;i++){var storageExpName=expFromStorage[i].V;expNamesFromStorage.push(storageExpName)}-1==expNamesFromStorage.indexOf(exVariant)?(expToStoreBack=expFromStorage).push(OptObj):(function(array,key,value){for(var i=0;i<array.length;i++)if(array[i][key]===value)return array[i];return null}(expFromStorage,"V",exVariant).D=todayDate,expToStoreBack=expFromStorage)}else(expToStoreBack=[]).push(JSON.parse(OptArray));if(UIExperimentRenderedObj.busExpTodayDate=todayDate,UIExperimentRenderedObj.busExpCurrent=arrayForDE,expToStoreBack)try{_gtm.localStorage.set("OptVars",JSON.stringify(expToStoreBack))}catch(err){}dataLayer.push({UIExperimentRendered:UIExperimentRenderedObj})}catch(e){var errorsObj=gtmDataLayer.get("errors")||{};errorsObj.UIExperimentRendered="Unavailable",errorsObj.UIExperimentRendered.eMesssage=e,gtmDataLayer.set("errors",errorsObj)}});